{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"en/","title":"Introduction","text":"<p>Supertonic MNN is a high-performance, lightweight text-to-speech (TTS) inference library based on MNN. It is designed to run efficiently on various platforms, including mobile and embedded devices, using the Supertonic TTS model architecture.</p>"},{"location":"en/#key-features","title":"Key Features","text":"<ul> <li>Fast Inference: Leveraging MNN's optimization, it delivers low-latency speech generation.</li> <li>Lightweight: Minimal dependencies, easy to deploy.</li> <li>Cross-Platform: Works on Linux, macOS, and Windows.</li> <li>Python API: Easy-to-use Python interface for valid seamless integration.</li> <li>CLI Support: Built-in command-line tool for quick testing and batch processing.</li> </ul>"},{"location":"en/#architecture","title":"Architecture","text":"<p>The library consists of several MNN models working together:</p> <ul> <li>Duration Predictor: Determines phoneme durations.</li> <li>Text Encoder: Encodes input text into embeddings.</li> <li>Vector Estimator: Predicts acoustic features (Latent).</li> <li>Vocoder: Converts features into audio waveforms.</li> </ul>"},{"location":"en/#getting-started","title":"Getting Started","text":"<p>Check out the Installation guide to set up the library, or go directly to the Usage section to start generating speech.</p>"},{"location":"en/#acknowledgments","title":"Acknowledgments","text":"<p>This project is based on the original Supertonic by Supertone Inc.</p>"},{"location":"en/api/","title":"API Reference","text":""},{"location":"en/api/#supertonic_mnnwrapper","title":"supertonic_mnn.wrapper","text":""},{"location":"en/api/#supertonictts","title":"<code>SupertonicTTS</code>","text":"<p><pre><code>class SupertonicTTS(model_dir: str = DEFAULT_CACHE_DIR, precision: str = \"fp16\")\n</code></pre> High-level wrapper for the Text-to-Speech engine.</p>"},{"location":"en/api/#synthesize","title":"<code>synthesize</code>","text":"<p><pre><code>def synthesize(text: str, voice: str = \"M1\", steps: int = 5, speed: float = 1.0, output_file: Optional[str] = None) -&gt; Tuple[np.ndarray, int]\n</code></pre> Synthesizes speech from text. *   <code>text</code>: Input text. *   <code>voice</code>: Voice style name (\"M1\", \"M2\", \"F1\", \"F2\") or path to style JSON. *   <code>steps</code>: Denoising steps (default 5). *   <code>speed</code>: Speech speed (default 1.0). *   <code>output_file</code>: If provided, saves the audio to this file. *   Returns: <code>(audio_data, sample_rate)</code></p>"},{"location":"en/api/#save","title":"<code>save</code>","text":"<p><pre><code>@staticmethod\ndef save(filename: str, audio_data: np.ndarray, sample_rate: int)\n</code></pre> Helper to save audio data to a file.</p>"},{"location":"en/api/#supertonic_mnnmodel","title":"supertonic_mnn.model","text":""},{"location":"en/api/#ensure_models","title":"<code>ensure_models</code>","text":"<p><pre><code>def ensure_models(target_dir: str = DEFAULT_CACHE_DIR, precision: str = \"fp16\")\n</code></pre> Checks if models exist in <code>target_dir</code>. If not, downloads them from Hugging Face.</p>"},{"location":"en/api/#load_text_to_speech","title":"<code>load_text_to_speech</code>","text":"<p><pre><code>def load_text_to_speech(model_dir: str = DEFAULT_CACHE_DIR, precision: str = \"fp16\", use_gpu: bool = False) -&gt; TextToSpeech\n</code></pre> Initializes the TTS engine.</p>"},{"location":"en/api/#get_voice_style_path","title":"<code>get_voice_style_path</code>","text":"<p><pre><code>def get_voice_style_path(voice_name: str, model_dir: str = DEFAULT_CACHE_DIR) -&gt; str\n</code></pre> Resolves the path for a given voice style name.</p>"},{"location":"en/api/#load_voice_style","title":"<code>load_voice_style</code>","text":"<p><pre><code>def load_voice_style(voice_style_paths: list[str], verbose: bool = False) -&gt; Style\n</code></pre> Loads voice style vectors from JSON files.</p>"},{"location":"en/api/#supertonic_mnnengine","title":"supertonic_mnn.engine","text":""},{"location":"en/api/#texttospeech","title":"<code>TextToSpeech</code>","text":"<p>The main inference class.</p>"},{"location":"en/api/#__call__","title":"<code>__call__</code>","text":"<p><pre><code>def __call__(self, text: str, style: Style, total_step: int, speed: float = 1.05, silence_duration: float = 0.3) -&gt; tuple[np.ndarray, np.ndarray, float]\n</code></pre> Synthesizes speech from text.</p>"},{"location":"en/installation/","title":"Installation","text":""},{"location":"en/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.9 or higher</li> <li>pip</li> </ul>"},{"location":"en/installation/#install-from-pypi","title":"Install from PyPI","text":"<p>Currently, <code>supertonic-mnn</code> is available via PyPI (Example, adjust if not actually published yet, or provide git install):</p> <pre><code>pip install supertonic-mnn\n</code></pre>"},{"location":"en/installation/#install-from-source","title":"Install from Source","text":"<p>To install the latest version from GitHub:</p> <pre><code>git clone https://github.com/vra/supertonic-mnn.git\ncd supertonic-mnn\npip install .\n</code></pre>"},{"location":"en/installation/#dependencies","title":"Dependencies","text":"<p>The following dependencies will be automatically installed:</p> <ul> <li><code>mnn&gt;=2.0.0</code></li> <li><code>numpy</code></li> <li><code>soundfile</code></li> <li><code>huggingface_hub</code></li> <li><code>tqdm</code></li> <li><code>requests</code></li> </ul>"},{"location":"en/usage/","title":"Usage Guide","text":""},{"location":"en/usage/#python-api","title":"Python API","text":"<p>You can use <code>supertonic-mnn</code> directly in your Python projects.</p>"},{"location":"en/usage/#basic-example","title":"Basic Example","text":"<p>The simplified API encapsulates model loading and inference.</p> <pre><code>from supertonic_mnn import SupertonicTTS\n\n# 1. Initialize\n# Precision can be \"fp16\" (default), \"fp32\", or \"int8\"\ntts = SupertonicTTS(precision=\"fp16\")\n\n# 2. Synthesize\n# Models will be downloaded automatically if not present in the default cache directory.\n# You can specify the output file name to save the audio directly.\naudio_data, sample_rate = tts.synthesize(\n    text=\"Welcome to Supertonic MNN.\",\n    voice=\"M1\",\n    output_file=\"output.wav\"\n)\n\nprint(f\"Audio synthesized with sample rate {sample_rate}Hz.\")\n</code></pre>"},{"location":"en/usage/#advanced-usage","title":"Advanced Usage","text":"<p>You can customize the model directory and access the underlying engine if needed.</p> <pre><code>from supertonic_mnn import SupertonicTTS\n\n# Initialize with custom model directory and precision\ntts = SupertonicTTS(model_dir=\"./custom_models\", precision=\"int8\")\n\n# Synthesize without saving to file (returns numpy array)\naudio_data, sample_rate = tts.synthesize(\"Hello world\", voice=\"F1\", speed=1.2)\n\n# Save manually using the helper method\ntts.save(\"fast_hello.wav\", audio_data, sample_rate)\n</code></pre>"},{"location":"en/usage/#command-line-interface-cli","title":"Command Line Interface (CLI)","text":"<p>The package provides a <code>supertonic-mnn</code> command for quick usage.</p>"},{"location":"en/usage/#synthesize-text","title":"Synthesize Text","text":"<pre><code>supertonic-mnn -i input.txt -o output.wav --voice M1\n</code></pre> <p>Or using stdin:</p> <pre><code>echo \"Hello World\" | supertonic-mnn -o hello.wav\n</code></pre>"},{"location":"en/usage/#available-voices","title":"Available Voices","text":"Voice ID Description M1 Male voice 1 M2 Male voice 2 F1 Female voice 1 F2 Female voice 2"},{"location":"en/usage/#options","title":"Options","text":"<ul> <li><code>-i, --input-file</code>: Path to text file (utf-8).</li> <li><code>-o, --output</code>: Output wav file path.</li> <li><code>--voice</code>: Voice style (M1, M2, F1, F2) or path to style json.</li> <li><code>--speed</code>: Speech speed (default 1.0).</li> <li><code>--steps</code>: Diffusion steps (default 5).</li> <li><code>--precision</code>: Model precision (fp16, fp32, int8).</li> </ul>"},{"location":"zh/","title":"\u4ecb\u7ecd","text":"<p>Supertonic MNN \u662f\u4e00\u4e2a\u57fa\u4e8e MNN \u7684\u9ad8\u6027\u80fd\u3001\u8f7b\u91cf\u7ea7\u6587\u672c\u8f6c\u8bed\u97f3 (TTS) \u63a8\u7406\u5e93\u3002\u5b83\u4e13\u4e3a\u5728\u79fb\u52a8\u7aef\u548c\u5d4c\u5165\u5f0f\u8bbe\u5907\u7b49\u5404\u79cd\u5e73\u53f0\u4e0a\u9ad8\u6548\u8fd0\u884c\u800c\u8bbe\u8ba1\uff0c\u91c7\u7528\u4e86 Supertonic TTS \u6a21\u578b\u67b6\u6784\u3002</p>"},{"location":"zh/#_2","title":"\u4e3b\u8981\u7279\u6027","text":"<ul> <li>\u6781\u901f\u63a8\u7406: \u5229\u7528 MNN \u7684\u4f18\u5316\u6280\u672f\uff0c\u63d0\u4f9b\u4f4e\u5ef6\u8fdf\u7684\u8bed\u97f3\u751f\u6210\u80fd\u529b\u3002</li> <li>\u6781\u81f4\u8f7b\u91cf: \u4f9d\u8d56\u6781\u5c11\uff0c\u6613\u4e8e\u90e8\u7f72\u3002</li> <li>\u8de8\u5e73\u53f0: \u652f\u6301 Linux, macOS, \u548c Windows\u3002</li> <li>Python API: \u63d0\u4f9b\u6613\u7528\u7684 Python \u63a5\u53e3\uff0c\u65b9\u4fbf\u65e0\u7f1d\u96c6\u6210\u3002</li> <li>CLI \u652f\u6301: \u5185\u7f6e\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u4fbf\u4e8e\u5feb\u901f\u6d4b\u8bd5\u548c\u6279\u91cf\u5904\u7406\u3002</li> </ul>"},{"location":"zh/#_3","title":"\u67b6\u6784","text":"<p>\u672c\u5e93\u7531\u591a\u4e2a\u534f\u540c\u5de5\u4f5c\u7684 MNN \u6a21\u578b\u7ec4\u6210\uff1a</p> <ul> <li>\u65f6\u957f\u9884\u6d4b\u5668 (Duration Predictor): \u786e\u5b9a\u97f3\u7d20\u65f6\u957f\u3002</li> <li>\u6587\u672c\u7f16\u7801\u5668 (Text Encoder): \u5c06\u8f93\u5165\u6587\u672c\u7f16\u7801\u4e3a\u5d4c\u5165\u5411\u91cf\u3002</li> <li>\u5411\u91cf\u4f30\u8ba1\u5668 (Vector Estimator): \u9884\u6d4b\u58f0\u5b66\u7279\u5f81 (Latent)\u3002</li> <li>\u58f0\u7801\u5668 (Vocoder): \u5c06\u7279\u5f81\u8f6c\u6362\u4e3a\u97f3\u9891\u6ce2\u5f62\u3002</li> </ul>"},{"location":"zh/#_4","title":"\u5feb\u901f\u5f00\u59cb","text":"<p>\u8bf7\u67e5\u770b \u5b89\u88c5 \u6307\u5357\u4ee5\u5b89\u88c5\u672c\u5e93\uff0c\u6216\u76f4\u63a5\u524d\u5f80 \u4f7f\u7528\u6307\u5357 \u7ae0\u8282\u5f00\u59cb\u751f\u6210\u8bed\u97f3\u3002</p>"},{"location":"zh/#_5","title":"\u81f4\u8c22","text":"<p>\u672c\u9879\u76ee\u57fa\u4e8e Supertone Inc. \u7684\u539f\u59cb Supertonic \u5de5\u4f5c\u3002</p>"},{"location":"zh/api/","title":"API \u53c2\u8003\u624b\u518c","text":""},{"location":"zh/api/#supertonic_mnnwrapper","title":"supertonic_mnn.wrapper","text":""},{"location":"zh/api/#supertonictts","title":"<code>SupertonicTTS</code>","text":"<p><pre><code>class SupertonicTTS(model_dir: str = DEFAULT_CACHE_DIR, precision: str = \"fp16\")\n</code></pre> \u6587\u672c\u8f6c\u8bed\u97f3\u5f15\u64ce\u7684\u9ad8\u7ea7\u5c01\u88c5\u7c7b\u3002</p>"},{"location":"zh/api/#synthesize","title":"<code>synthesize</code>","text":"<p><pre><code>def synthesize(text: str, voice: str = \"M1\", steps: int = 5, speed: float = 1.0, output_file: Optional[str] = None) -&gt; Tuple[np.ndarray, int]\n</code></pre> \u4ece\u6587\u672c\u5408\u6210\u8bed\u97f3\u3002 *   <code>text</code>: \u8f93\u5165\u6587\u672c\u3002 *   <code>voice</code>: \u8bed\u97f3\u98ce\u683c\u540d\u79f0 (\"M1\", \"M2\", \"F1\", \"F2\") \u6216\u98ce\u683c JSON \u6587\u4ef6\u8def\u5f84\u3002 *   <code>steps</code>: \u53bb\u566a\u6b65\u6570 (\u9ed8\u8ba4 5)\u3002 *   <code>speed</code>: \u8bed\u901f (\u9ed8\u8ba4 1.0)\u3002 *   <code>output_file</code>: \u5982\u679c\u63d0\u4f9b\uff0c\u5219\u5c06\u97f3\u9891\u4fdd\u5b58\u5230\u6b64\u6587\u4ef6\u3002 *   Returns: <code>(audio_data, sample_rate)</code></p>"},{"location":"zh/api/#save","title":"<code>save</code>","text":"<p><pre><code>@staticmethod\ndef save(filename: str, audio_data: np.ndarray, sample_rate: int)\n</code></pre> \u4fdd\u5b58\u97f3\u9891\u6570\u636e\u5230\u6587\u4ef6\u7684\u8f85\u52a9\u65b9\u6cd5\u3002</p>"},{"location":"zh/api/#supertonic_mnnmodel","title":"supertonic_mnn.model","text":""},{"location":"zh/api/#ensure_models","title":"<code>ensure_models</code>","text":"<p><pre><code>def ensure_models(target_dir: str = DEFAULT_CACHE_DIR, precision: str = \"fp16\")\n</code></pre> \u68c0\u67e5 <code>target_dir</code> \u4e2d\u662f\u5426\u5b58\u5728\u6a21\u578b\u3002\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u4ece Hugging Face \u4e0b\u8f7d\u3002</p>"},{"location":"zh/api/#load_text_to_speech","title":"<code>load_text_to_speech</code>","text":"<p><pre><code>def load_text_to_speech(model_dir: str = DEFAULT_CACHE_DIR, precision: str = \"fp16\", use_gpu: bool = False) -&gt; TextToSpeech\n</code></pre> \u521d\u59cb\u5316 TTS \u5f15\u64ce\u3002</p>"},{"location":"zh/api/#get_voice_style_path","title":"<code>get_voice_style_path</code>","text":"<p><pre><code>def get_voice_style_path(voice_name: str, model_dir: str = DEFAULT_CACHE_DIR) -&gt; str\n</code></pre> \u89e3\u6790\u7ed9\u5b9a\u8bed\u97f3\u98ce\u683c\u540d\u79f0\u7684\u8def\u5f84\u3002</p>"},{"location":"zh/api/#load_voice_style","title":"<code>load_voice_style</code>","text":"<p><pre><code>def load_voice_style(voice_style_paths: list[str], verbose: bool = False) -&gt; Style\n</code></pre> \u4ece JSON \u6587\u4ef6\u52a0\u8f7d\u8bed\u97f3\u98ce\u683c\u5411\u91cf\u3002</p>"},{"location":"zh/api/#supertonic_mnnengine","title":"supertonic_mnn.engine","text":""},{"location":"zh/api/#texttospeech","title":"<code>TextToSpeech</code>","text":"<p>\u4e3b\u8981\u63a8\u7406\u7c7b\u3002</p>"},{"location":"zh/api/#__call__","title":"<code>__call__</code>","text":"<p><pre><code>def __call__(self, text: str, style: Style, total_step: int, speed: float = 1.05, silence_duration: float = 0.3) -&gt; tuple[np.ndarray, np.ndarray, float]\n</code></pre> \u4ece\u6587\u672c\u5408\u6210\u8bed\u97f3\u3002</p>"},{"location":"zh/installation/","title":"\u5b89\u88c5\u6307\u5357","text":""},{"location":"zh/installation/#_2","title":"\u524d\u7f6e\u8981\u6c42","text":"<ul> <li>Python 3.9 \u6216\u66f4\u9ad8\u7248\u672c</li> <li>pip</li> </ul>"},{"location":"zh/installation/#pypi","title":"\u4ece PyPI \u5b89\u88c5","text":"<p>\u76ee\u524d\uff0c<code>supertonic-mnn</code> \u53ef\u4ee5\u901a\u8fc7 PyPI \u5b89\u88c5 (\u793a\u4f8b\uff0c\u5982\u679c\u5c1a\u672a\u53d1\u5e03\uff0c\u8bf7\u8c03\u6574\u6216\u63d0\u4f9b git \u5b89\u88c5\u65b9\u5f0f):</p> <pre><code>pip install supertonic-mnn\n</code></pre>"},{"location":"zh/installation/#_3","title":"\u4ece\u6e90\u7801\u5b89\u88c5","text":"<p>\u8981\u4ece GitHub \u5b89\u88c5\u6700\u65b0\u7248\u672c\uff1a</p> <pre><code>git clone https://github.com/vra/supertonic-mnn.git\ncd supertonic-mnn\npip install .\n</code></pre>"},{"location":"zh/installation/#_4","title":"\u4f9d\u8d56\u9879","text":"<p>\u5b89\u88c5\u8fc7\u7a0b\u4e2d\u4f1a\u81ea\u52a8\u5b89\u88c5\u4ee5\u4e0b\u4f9d\u8d56\u9879\uff1a</p> <ul> <li><code>mnn&gt;=2.0.0</code></li> <li><code>numpy</code></li> <li><code>soundfile</code></li> <li><code>huggingface_hub</code></li> <li><code>tqdm</code></li> <li><code>requests</code></li> </ul>"},{"location":"zh/usage/","title":"\u4f7f\u7528\u6307\u5357","text":""},{"location":"zh/usage/#python-api","title":"Python API","text":"<p>\u60a8\u53ef\u4ee5\u5728 Python \u9879\u76ee\u4e2d\u76f4\u63a5\u8c03\u7528 <code>supertonic-mnn</code>\u3002</p>"},{"location":"zh/usage/#_2","title":"\u57fa\u7840\u793a\u4f8b","text":"<p>\u7b80\u5316\u540e\u7684 API \u5c01\u88c5\u4e86\u6a21\u578b\u52a0\u8f7d\u548c\u63a8\u7406\u8fc7\u7a0b\u3002</p> <pre><code>from supertonic_mnn import SupertonicTTS\n\n# 1. \u521d\u59cb\u5316\n# \u7cbe\u5ea6\u53ef\u4ee5\u662f \"fp16\" (\u9ed8\u8ba4), \"fp32\", \u6216 \"int8\"\ntts = SupertonicTTS(precision=\"fp16\")\n\n# 2. \u5408\u6210\n# \u5982\u679c\u9ed8\u8ba4\u7f13\u5b58\u76ee\u5f55\u4e2d\u6ca1\u6709\u6a21\u578b\uff0c\u4f1a\u81ea\u52a8\u4e0b\u8f7d\u3002\n# \u60a8\u53ef\u4ee5\u6307\u5b9a output_file \u53c2\u6570\u76f4\u63a5\u4fdd\u5b58\u97f3\u9891\u3002\naudio_data, sample_rate = tts.synthesize(\n    text=\"\u6b22\u8fce\u4f7f\u7528 Supertonic MNN\u3002\",\n    voice=\"M1\",\n    output_file=\"output.wav\"\n)\n\nprint(f\"\u8bed\u97f3\u5df2\u5408\u6210\uff0c\u91c7\u6837\u7387\u4e3a {sample_rate}Hz\u3002\")\n</code></pre>"},{"location":"zh/usage/#_3","title":"\u8fdb\u9636\u7528\u6cd5","text":"<p>\u60a8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u6a21\u578b\u76ee\u5f55\uff0c\u5e76\u6309\u9700\u4f7f\u7528\u5e95\u5c42 API\u3002</p> <pre><code>from supertonic_mnn import SupertonicTTS\n\n# \u6307\u5b9a\u81ea\u5b9a\u4e49\u6a21\u578b\u76ee\u5f55\u548c\u7cbe\u5ea6\ntts = SupertonicTTS(model_dir=\"./custom_models\", precision=\"int8\")\n\n# \u5408\u6210\u4f46\u4e0d\u4fdd\u5b58\u5230\u6587\u4ef6 (\u8fd4\u56de numpy \u6570\u7ec4)\naudio_data, sample_rate = tts.synthesize(\"\u4f60\u597d\uff0c\u4e16\u754c\", voice=\"F1\", speed=1.2)\n\n# \u4f7f\u7528\u8f85\u52a9\u65b9\u6cd5\u624b\u52a8\u4fdd\u5b58\ntts.save(\"fast_hello.wav\", audio_data, sample_rate)\n</code></pre>"},{"location":"zh/usage/#cli","title":"\u547d\u4ee4\u884c\u63a5\u53e3 (CLI)","text":"<p>\u672c\u8f6f\u4ef6\u5305\u63d0\u4f9b\u4e86\u4e00\u4e2a <code>supertonic-mnn</code> \u547d\u4ee4\uff0c\u7528\u4e8e\u5feb\u901f\u4f7f\u7528\u3002</p>"},{"location":"zh/usage/#_4","title":"\u6587\u672c\u5408\u6210","text":"<pre><code>supertonic-mnn -i input.txt -o output.wav --voice M1\n</code></pre> <p>\u6216\u8005\u4f7f\u7528\u6807\u51c6\u8f93\u5165\uff1a</p> <pre><code>echo \"\u4f60\u597d\uff0c\u4e16\u754c\" | supertonic-mnn -o hello.wav\n</code></pre>"},{"location":"zh/usage/#_5","title":"\u53ef\u7528\u97f3\u8272","text":"\u97f3\u8272 ID \u63cf\u8ff0 M1 \u7537\u58f0 1 M2 \u7537\u58f0 2 F1 \u5973\u58f0 1 F2 \u5973\u58f0 2"},{"location":"zh/usage/#_6","title":"\u9009\u9879","text":"<ul> <li><code>-i, --input-file</code>: \u6587\u672c\u6587\u4ef6\u8def\u5f84 (utf-8)\u3002</li> <li><code>-o, --output</code>: \u8f93\u51fa wav \u6587\u4ef6\u8def\u5f84\u3002</li> <li><code>--voice</code>: \u8bed\u97f3\u98ce\u683c\u540d\u79f0 (M1, M2, F1, F2) \u6216\u98ce\u683c JSON \u6587\u4ef6\u8def\u5f84\u3002</li> <li><code>--speed</code>: \u8bed\u901f (\u9ed8\u8ba4 1.0)\u3002</li> <li><code>--steps</code>: \u6269\u6563\u6b65\u6570 (\u9ed8\u8ba4 5)\u3002</li> <li><code>--precision</code>: \u6a21\u578b\u7cbe\u5ea6 (fp16, fp32, int8)\u3002</li> </ul>"}]}